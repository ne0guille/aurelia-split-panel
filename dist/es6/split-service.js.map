{"version":3,"sources":["../src/split-service.ts"],"names":[],"mappings":";;;;;;;;AAAA,gCAAkC;AAElC,uDAA2C;AAC3C,qEAA2D;AAE3D,qDAA4E;AAW5E;IAGE,sBAAY,EAAE;QACZ,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACf,CAAC;IAEM,6BAAM,GAAb,UAAc,OAAqB;QACjC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,6BAAW,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAC/C,CAAC;IAEM,+BAAQ,GAAf,UAAgB,KAAK;QACnB,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,6BAAW,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAC9C,CAAC;IAEM,8BAAO,GAAd;QACE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,6BAAW,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAEM,iCAAU,GAAjB,UAAkB,OAAoB,EAAE,OAAqB;QAC3D,IAAM,UAAU,GAAG,OAAO,CAAC,SAAS,KAAK,gCAAc,CAAC,QAAQ,CAAC;QACjE,IAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QAC3D,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QAE1C,MAAM,CAAC,KAAK,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACpC,CAAC;IAEO,oCAAa,GAArB,UAAsB,OAAoB,EAAE,UAAmB;QAC7D,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAAC,MAAM,CAAC,EAAE,CAAC;QAE9D,IAAM,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAM,eAAe,GAAG,UAAU,GAAG,4BAAU,CAAC,QAAQ,GAAG,4BAAU,CAAC,UAAU,CAAC;QAEjF,aAAa,CAAC,OAAO,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,EAAtC,CAAsC,CAAC,CAAC;QAEzE,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,UAAA,OAAO,IAAI,OAAA,MAAI,OAAO,CAAC,EAAI,EAAhB,CAAgB,CAAC,CAAC;IACxD,CAAC;IAEO,sCAAe,GAAvB,UAAwB,OAAoB,EAAE,UAAmB;QAC/D,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAClE,IAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;YAC5D,IAAM,MAAM,GAAG,YAAY,KAAK,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC;YAEhG,OAAO,CAAC,KAAK,CAAC,MAAM,GAAM,MAAM,OAAI,CAAC;QACvC,CAAC;IACH,CAAC;IAEO,uCAAgB,GAAxB,UAAyB,OAAO;QAC9B,MAAM,CAAC,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACpG,CAAC;IAjDU,YAAY;QADxB,0BAAM,CAAC,0CAAe,CAAC;OACX,YAAY,CAkDxB;IAAD,mBAAC;CAlDD,AAkDC,IAAA;AAlDY,oCAAY","file":"split-service.js","sourcesContent":["import * as Split from 'split.js';\n\nimport { inject } from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\n\nimport { splitClass, splitEvents, splitDirection } from './split-constants';\n\nexport interface SplitOptions {\n  sizes: Array<number>;\n  minSize: Array<number> | number;\n  gutterSize: number;\n  direction: string;\n  cursor: string;\n}\n\n@inject(EventAggregator)\nexport class SplitService {\n  ea: EventAggregator;\n\n  constructor(ea) {\n    this.ea = ea;\n  }\n\n  public create(options: SplitOptions) {\n    this.ea.publish(splitEvents.create, options);\n  }\n\n  public setSizes(sizes) {\n    this.ea.publish(splitEvents.setSize, sizes);\n  }\n\n  public destroy() {\n    this.ea.publish(splitEvents.destroy);\n  }\n\n  public initialize(element: HTMLElement, options: SplitOptions) {\n    const isVertical = options.direction === splitDirection.vertical;\n    const panelItems = this.getPanelItems(element, isVertical);\n    this.setParentHeight(element, isVertical);\n\n    return Split(panelItems, options);\n  }\n\n  private getPanelItems(element: HTMLElement, isVertical: boolean): string[] {\n    if (!(element.children && element.children.length)) return [];\n\n    const childrenArray = Array.from(element.children);\n    const splitPanelClass = isVertical ? splitClass.vertical : splitClass.horizontal;\n    \n    childrenArray.forEach(element => element.classList.add(splitPanelClass));\n\n    return childrenArray.map(element => `#${element.id}`);\n  }\n\n  private setParentHeight(element: HTMLElement, isVertical: boolean): void {\n    if (!(isVertical && element.style.height && element.clientHeight)) {\n      const parentHeight = String(this.getElementHeight(element));\n      const height = parentHeight === '0' ? this.getElementHeight(element.children[0]) : parentHeight;\n\n      element.style.height = `${height}px`;\n    }\n  }\n\n  private getElementHeight(element): number {\n    return element.clientHeight || element.offsetHeight || Number.parseInt(element.style.height) || 0;\n  }\n}"],"sourceRoot":"/source/"}