{"version":3,"sources":["../src/aurelia-split-panel.ts"],"names":[],"mappings":"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","file":"aurelia-split-panel.js","sourcesContent":["import { EventAggregator, Subscription } from 'aurelia-event-aggregator';\nimport { bindable, bindingMode, inject, TaskQueue } from 'aurelia-framework';\n\nimport { SplitOptions, SplitService } from './split-service';\nimport { splitDirection, splitEvents } from \"./split-constants\";\n\n@inject(Element, TaskQueue, EventAggregator, SplitService)\nexport class SplitPanelCustomAttribute {\n  @bindable({ defaultBindingMode: bindingMode.oneWay, primaryProperty: true }) sizes: Array<number>;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) minSize: Array<number> | number = 100;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) gutterSize: number = 10;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) vertical: boolean = false;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) cursor: string = 'grabbing';\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) initialize: boolean = true;\n\n  private splitjs: any;\n  private options: SplitOptions;\n  private subscriptions: Subscription[] = [];\n\n  constructor(private element: HTMLElement,\n    private taskQueue: TaskQueue,\n    private ea: EventAggregator,\n    private splitService: SplitService) { }\n\n  attached() {\n    const isVertical = typeof this.vertical === \"string\" ? JSON.parse(this.vertical) : this.vertical;\n\n    this.options = {\n      sizes: this.sizes,\n      minSize: this.minSize,\n      gutterSize: this.gutterSize,\n      direction: isVertical ? splitDirection.vertical : splitDirection.horizontal,\n      cursor: this.cursor\n    };\n\n    if (this.initialize) this.taskQueue.queueMicroTask(() => this.initializeSplit());\n\n    this.subscriptions.push(\n      this.ea.subscribe(splitEvents.create, (options?: SplitOptions) => this.initializeSplit(options)),\n      this.ea.subscribe(splitEvents.destroy, () => this.destroySplit()),\n      this.ea.subscribe(splitEvents.setSize, (sizes: number[]) => this.setSizes(sizes))\n    );\n  }\n\n  detached() {\n    this.destroySplit();\n    this.subscriptions.forEach((subs: Subscription) => subs.dispose());\n  }\n\n  private initializeSplit(options?: SplitOptions) {\n    this.destroySplit();\n\n    const splitOptions = options || this.options;\n\n    this.splitjs = this.splitService.initialize(this.element, splitOptions);\n  }\n\n  private destroySplit() {\n    if (this.splitjs !== undefined) this.splitjs = this.splitjs.destroy();\n  }\n\n  private setSizes(sizes: number[]){\n    if (this.splitjs !== undefined) this.splitjs.setSizes(sizes);\n  }\n}\n"],"sourceRoot":"/source/"}