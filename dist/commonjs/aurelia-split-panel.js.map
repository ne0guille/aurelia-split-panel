{"version":3,"sources":["aurelia-split-panel.js","../src/aurelia-split-panel.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","exports","value","aurelia_event_aggregator_1","require","aurelia_framework_1","split_service_1","split_constants_1","SplitPanelCustomAttribute","element","taskQueue","ea","splitService","minSize","gutterSize","vertical","cursor","initialize","subscriptions","prototype","attached","_this","isVertical","JSON","parse","options","sizes","direction","splitDirection","horizontal","queueMicroTask","initializeSplit","push","subscribe","splitEvents","create","destroy","destroySplit","setSize","setSizes","detached","forEach","subs","dispose","splitOptions","splitjs","undefined","bindable","defaultBindingMode","bindingMode","oneWay","primaryProperty","inject","Element","TaskQueue","EventAggregator","SplitService"],"mappings":"AAAA;;;;AACA,IAAIA,aAAc,aAAQ,UAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,QAAIC,IAAIC,UAAUC,MAAlB;AAAA,QAA0BC,IAAIH,IAAI,CAAJ,GAAQH,MAAR,GAAiBE,SAAS,IAAT,GAAgBA,OAAOK,OAAOC,wBAAP,CAAgCR,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,QAA2HO,CAA3H;AACA,QAAI,QAAOC,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+B,OAAOA,QAAQC,QAAf,KAA4B,UAA/D,EAA2EL,IAAII,QAAQC,QAAR,CAAiBZ,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIU,IAAIb,WAAWM,MAAX,GAAoB,CAAjC,EAAoCO,KAAK,CAAzC,EAA4CA,GAA5C;AAAiD,YAAIH,IAAIV,WAAWa,CAAX,CAAR,EAAuBN,IAAI,CAACH,IAAI,CAAJ,GAAQM,EAAEH,CAAF,CAAR,GAAeH,IAAI,CAAJ,GAAQM,EAAET,MAAF,EAAUC,GAAV,EAAeK,CAAf,CAAR,GAA4BG,EAAET,MAAF,EAAUC,GAAV,CAA5C,KAA+DK,CAAnE;AAAxE,KACL,OAAOH,IAAI,CAAJ,IAASG,CAAT,IAAcC,OAAOM,cAAP,CAAsBb,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,CALD;AAMAC,OAAOM,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;ACPA,IAAAC,6BAAAC,QAAA,0BAAA,CAAA;AACA,IAAAC,sBAAAD,QAAA,mBAAA,CAAA;AAEA,IAAAE,kBAAAF,QAAA,iBAAA,CAAA;AACA,IAAAG,oBAAAH,QAAA,mBAAA,CAAA;AAGA,IAAAI,4BAAA,YAAA;AAYE,aAAAA,yBAAA,CAAoBC,OAApB,EACUC,SADV,EAEUC,EAFV,EAGUC,YAHV,EAGoC;AAHhB,aAAAH,OAAA,GAAAA,OAAA;AACV,aAAAC,SAAA,GAAAA,SAAA;AACA,aAAAC,EAAA,GAAAA,EAAA;AACA,aAAAC,YAAA,GAAAA,YAAA;AAb4C,aAAAC,OAAA,GAAkC,GAAlC;AACA,aAAAC,UAAA,GAAqB,EAArB;AACA,aAAAC,QAAA,GAAoB,KAApB;AACA,aAAAC,MAAA,GAAiB,UAAjB;AACA,aAAAC,UAAA,GAAsB,IAAtB;AAI9C,aAAAC,aAAA,GAAgC,EAAhC;AAKiC;AAEzCV,8BAAAW,SAAA,CAAAC,QAAA,GAAA,YAAA;AAAA,YAAAC,QAAA,IAAA;AACE,YAAMC,aAAa,OAAO,KAAKP,QAAZ,KAAyB,QAAzB,GAAoCQ,KAAKC,KAAL,CAAW,KAAKT,QAAhB,CAApC,GAAgE,KAAKA,QAAxF;AAEA,aAAKU,OAAL,GAAe;AACbC,mBAAO,KAAKA,KADC;AAEbb,qBAAS,KAAKA,OAFD;AAGbC,wBAAY,KAAKA,UAHJ;AAIba,uBAAWL,aAAaf,kBAAAqB,cAAA,CAAeb,QAA5B,GAAuCR,kBAAAqB,cAAA,CAAeC,UAJpD;AAKbb,oBAAQ,KAAKA;AALA,SAAf;AAQA,YAAI,KAAKC,UAAT,EAAqB,KAAKP,SAAL,CAAeoB,cAAf,CAA8B,YAAA;AAAM,mBAAAT,MAAKU,eAAL,EAAA;AAAsB,SAA1D;AAErB,aAAKb,aAAL,CAAmBc,IAAnB,CACE,KAAKrB,EAAL,CAAQsB,SAAR,CAAkB1B,kBAAA2B,WAAA,CAAYC,MAA9B,EAAsC,UAACV,OAAD,EAAuB;AAAK,mBAAAJ,MAAKU,eAAL,CAAqBN,OAArB,CAAA;AAA6B,SAA/F,CADF,EAEE,KAAKd,EAAL,CAAQsB,SAAR,CAAkB1B,kBAAA2B,WAAA,CAAYE,OAA9B,EAAuC,YAAA;AAAM,mBAAAf,MAAKgB,YAAL,EAAA;AAAmB,SAAhE,CAFF,EAGE,KAAK1B,EAAL,CAAQsB,SAAR,CAAkB1B,kBAAA2B,WAAA,CAAYI,OAA9B,EAAuC,UAACZ,KAAD,EAAgB;AAAK,mBAAAL,MAAKkB,QAAL,CAAcb,KAAd,CAAA;AAAoB,SAAhF,CAHF;AAKD,KAlBD;AAoBAlB,8BAAAW,SAAA,CAAAqB,QAAA,GAAA,YAAA;AACE,aAAKH,YAAL;AACA,aAAKnB,aAAL,CAAmBuB,OAAnB,CAA2B,UAACC,IAAD,EAAmB;AAAK,mBAAAA,KAAKC,OAAL,EAAA;AAAc,SAAjE;AACD,KAHD;AAKQnC,8BAAAW,SAAA,CAAAY,eAAA,GAAR,UAAwBN,OAAxB,EAA8C;AAC5C,aAAKY,YAAL;AAEA,YAAMO,eAAenB,WAAW,KAAKA,OAArC;AAEA,aAAKoB,OAAL,GAAe,KAAKjC,YAAL,CAAkBK,UAAlB,CAA6B,KAAKR,OAAlC,EAA2CmC,YAA3C,CAAf;AACD,KANO;AAQApC,8BAAAW,SAAA,CAAAkB,YAAA,GAAR,YAAA;AACE,YAAI,KAAKQ,OAAL,KAAiBC,SAArB,EAAgC,KAAKD,OAAL,GAAe,KAAKA,OAAL,CAAaT,OAAb,EAAf;AACjC,KAFO;AAIA5B,8BAAAW,SAAA,CAAAoB,QAAA,GAAR,UAAiBb,KAAjB,EAAgC;AAC9B,YAAI,KAAKmB,OAAL,KAAiBC,SAArB,EAAgC,KAAKD,OAAL,CAAaN,QAAb,CAAsBb,KAAtB;AACjC,KAFO;AArDqEzC,eAAA,CAA5EoB,oBAAA0C,QAAA,CAAS,EAAEC,oBAAoB3C,oBAAA4C,WAAA,CAAYC,MAAlC,EAA0CC,iBAAiB,IAA3D,EAAT,CAA4E,CAAA,EDkDxE3C,0BAA0BW,SClD8C,EDkDnC,OClDmC,EDkD1B,KAAK,CClDqB;AACvBlC,eAAA,CAArDoB,oBAAA0C,QAAA,CAAS,EAAEC,oBAAoB3C,oBAAA4C,WAAA,CAAYC,MAAlC,EAAT,CAAqD,CAAA,EDoDjD1C,0BAA0BW,SCpDuB,EDoDZ,SCpDY,EDoDD,KAAK,CCpDJ;AACAlC,eAAA,CAArDoB,oBAAA0C,QAAA,CAAS,EAAEC,oBAAoB3C,oBAAA4C,WAAA,CAAYC,MAAlC,EAAT,CAAqD,CAAA,EDsDjD1C,0BAA0BW,SCtDuB,EDsDZ,YCtDY,EDsDE,KAAK,CCtDP;AACAlC,eAAA,CAArDoB,oBAAA0C,QAAA,CAAS,EAAEC,oBAAoB3C,oBAAA4C,WAAA,CAAYC,MAAlC,EAAT,CAAqD,CAAA,EDwDjD1C,0BAA0BW,SCxDuB,EDwDZ,UCxDY,EDwDA,KAAK,CCxDL;AACAlC,eAAA,CAArDoB,oBAAA0C,QAAA,CAAS,EAAEC,oBAAoB3C,oBAAA4C,WAAA,CAAYC,MAAlC,EAAT,CAAqD,CAAA,ED0DjD1C,0BAA0BW,SC1DuB,ED0DZ,QC1DY,ED0DF,KAAK,CC1DH;AACAlC,eAAA,CAArDoB,oBAAA0C,QAAA,CAAS,EAAEC,oBAAoB3C,oBAAA4C,WAAA,CAAYC,MAAlC,EAAT,CAAqD,CAAA,ED4DjD1C,0BAA0BW,SC5DuB,ED4DZ,YC5DY,ED4DE,KAAK,CC5DP;AAN3CX,gCAAyBvB,WAAA,CADrCoB,oBAAA+C,MAAA,CAAOC,OAAP,EAAgBhD,oBAAAiD,SAAhB,EAA2BnD,2BAAAoD,eAA3B,EAA4CjD,gBAAAkD,YAA5C,CACqC,CAAA,EAAzBhD,yBAAyB,CAAzB;AAyDb,WAAAA,yBAAA;AAzDA,CAAA,EAAA;AAAaP,QAAAO,yBAAA,GAAAA,yBAAA","file":"aurelia-split-panel.js","sourceRoot":"/source/","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar aurelia_event_aggregator_1 = require(\"aurelia-event-aggregator\");\nvar aurelia_framework_1 = require(\"aurelia-framework\");\nvar split_service_1 = require(\"./split-service\");\nvar split_constants_1 = require(\"./split-constants\");\nvar SplitPanelCustomAttribute = (function () {\n    function SplitPanelCustomAttribute(element, taskQueue, ea, splitService) {\n        this.element = element;\n        this.taskQueue = taskQueue;\n        this.ea = ea;\n        this.splitService = splitService;\n        this.minSize = 100;\n        this.gutterSize = 10;\n        this.vertical = false;\n        this.cursor = 'grabbing';\n        this.initialize = true;\n        this.subscriptions = [];\n    }\n    SplitPanelCustomAttribute.prototype.attached = function () {\n        var _this = this;\n        var isVertical = typeof this.vertical === \"string\" ? JSON.parse(this.vertical) : this.vertical;\n        this.options = {\n            sizes: this.sizes,\n            minSize: this.minSize,\n            gutterSize: this.gutterSize,\n            direction: isVertical ? split_constants_1.splitDirection.vertical : split_constants_1.splitDirection.horizontal,\n            cursor: this.cursor\n        };\n        if (this.initialize)\n            this.taskQueue.queueMicroTask(function () { return _this.initializeSplit(); });\n        this.subscriptions.push(this.ea.subscribe(split_constants_1.splitEvents.create, function (options) { return _this.initializeSplit(options); }), this.ea.subscribe(split_constants_1.splitEvents.destroy, function () { return _this.destroySplit(); }), this.ea.subscribe(split_constants_1.splitEvents.setSize, function (sizes) { return _this.setSizes(sizes); }));\n    };\n    SplitPanelCustomAttribute.prototype.detached = function () {\n        this.destroySplit();\n        this.subscriptions.forEach(function (subs) { return subs.dispose(); });\n    };\n    SplitPanelCustomAttribute.prototype.initializeSplit = function (options) {\n        this.destroySplit();\n        var splitOptions = options || this.options;\n        this.splitjs = this.splitService.initialize(this.element, splitOptions);\n    };\n    SplitPanelCustomAttribute.prototype.destroySplit = function () {\n        if (this.splitjs !== undefined)\n            this.splitjs = this.splitjs.destroy();\n    };\n    SplitPanelCustomAttribute.prototype.setSizes = function (sizes) {\n        if (this.splitjs !== undefined)\n            this.splitjs.setSizes(sizes);\n    };\n    __decorate([\n        aurelia_framework_1.bindable({ defaultBindingMode: aurelia_framework_1.bindingMode.oneWay, primaryProperty: true })\n    ], SplitPanelCustomAttribute.prototype, \"sizes\", void 0);\n    __decorate([\n        aurelia_framework_1.bindable({ defaultBindingMode: aurelia_framework_1.bindingMode.oneWay })\n    ], SplitPanelCustomAttribute.prototype, \"minSize\", void 0);\n    __decorate([\n        aurelia_framework_1.bindable({ defaultBindingMode: aurelia_framework_1.bindingMode.oneWay })\n    ], SplitPanelCustomAttribute.prototype, \"gutterSize\", void 0);\n    __decorate([\n        aurelia_framework_1.bindable({ defaultBindingMode: aurelia_framework_1.bindingMode.oneWay })\n    ], SplitPanelCustomAttribute.prototype, \"vertical\", void 0);\n    __decorate([\n        aurelia_framework_1.bindable({ defaultBindingMode: aurelia_framework_1.bindingMode.oneWay })\n    ], SplitPanelCustomAttribute.prototype, \"cursor\", void 0);\n    __decorate([\n        aurelia_framework_1.bindable({ defaultBindingMode: aurelia_framework_1.bindingMode.oneWay })\n    ], SplitPanelCustomAttribute.prototype, \"initialize\", void 0);\n    SplitPanelCustomAttribute = __decorate([\n        aurelia_framework_1.inject(Element, aurelia_framework_1.TaskQueue, aurelia_event_aggregator_1.EventAggregator, split_service_1.SplitService)\n    ], SplitPanelCustomAttribute);\n    return SplitPanelCustomAttribute;\n}());\nexports.SplitPanelCustomAttribute = SplitPanelCustomAttribute;\n","import { EventAggregator, Subscription } from 'aurelia-event-aggregator';\nimport { bindable, bindingMode, inject, TaskQueue } from 'aurelia-framework';\n\nimport { SplitOptions, SplitService } from './split-service';\nimport { splitDirection, splitEvents } from \"./split-constants\";\n\n@inject(Element, TaskQueue, EventAggregator, SplitService)\nexport class SplitPanelCustomAttribute {\n  @bindable({ defaultBindingMode: bindingMode.oneWay, primaryProperty: true }) sizes: Array<number>;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) minSize: Array<number> | number = 100;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) gutterSize: number = 10;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) vertical: boolean = false;\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) cursor: string = 'grabbing';\n  @bindable({ defaultBindingMode: bindingMode.oneWay }) initialize: boolean = true;\n\n  private splitjs: any;\n  private options: SplitOptions;\n  private subscriptions: Subscription[] = [];\n\n  constructor(private element: HTMLElement,\n    private taskQueue: TaskQueue,\n    private ea: EventAggregator,\n    private splitService: SplitService) { }\n\n  attached() {\n    const isVertical = typeof this.vertical === \"string\" ? JSON.parse(this.vertical) : this.vertical;\n\n    this.options = {\n      sizes: this.sizes,\n      minSize: this.minSize,\n      gutterSize: this.gutterSize,\n      direction: isVertical ? splitDirection.vertical : splitDirection.horizontal,\n      cursor: this.cursor\n    };\n\n    if (this.initialize) this.taskQueue.queueMicroTask(() => this.initializeSplit());\n\n    this.subscriptions.push(\n      this.ea.subscribe(splitEvents.create, (options?: SplitOptions) => this.initializeSplit(options)),\n      this.ea.subscribe(splitEvents.destroy, () => this.destroySplit()),\n      this.ea.subscribe(splitEvents.setSize, (sizes: number[]) => this.setSizes(sizes))\n    );\n  }\n\n  detached() {\n    this.destroySplit();\n    this.subscriptions.forEach((subs: Subscription) => subs.dispose());\n  }\n\n  private initializeSplit(options?: SplitOptions) {\n    this.destroySplit();\n\n    const splitOptions = options || this.options;\n\n    this.splitjs = this.splitService.initialize(this.element, splitOptions);\n  }\n\n  private destroySplit() {\n    if (this.splitjs !== undefined) this.splitjs = this.splitjs.destroy();\n  }\n\n  private setSizes(sizes: number[]){\n    if (this.splitjs !== undefined) this.splitjs.setSizes(sizes);\n  }\n}\n"]}